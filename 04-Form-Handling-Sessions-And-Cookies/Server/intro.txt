===================================
Form Handling, Sessions & Cookies
===================================

ğŸ“Œ BASIC CONCEPT:
Browser (Frontend) par data store karke backend par automatically bhej sakte hai.
Jab bhi aap backend par request karoge, browser automatically cookies/session data backend par bhej deta hai.


===================================
1. FORM HANDLING
===================================

ğŸ“¦ Middleware Required:
    - express.json()
    - express.urlencoded()

âœ… express.json() :
    â€¢ JSON format ka data parse karta hai (Content-Type: application/json)
    â€¢ Frontend se aaya hua JSON data ko JavaScript object me convert karta hai
    â€¢ req.body me data milta hai
    â€¢ Example: { "name": "John", "age": 25 }
    â€¢ Use Case: REST APIs, AJAX requests, Fetch API

âœ… express.urlencoded({ extended: true }) :
    â€¢ HTML form data ko parse karta hai (Content-Type: application/x-www-form-urlencoded)
    â€¢ URL-encoded data ko JavaScript object me convert karta hai
    â€¢ req.body me data milta hai
    â€¢ Example: name=John&age=25
    â€¢ Use Case: Traditional HTML forms
    â€¢ extended: true - nested objects ko support karta hai

ğŸ“Œ Installation:
    npm install express


===================================
2. SESSIONS
===================================

ğŸ“¦ Middleware Required:
    - express-session

âœ… express-session :
    â€¢ Server-side par data store karta hai (memory, database, Redis, etc.)
    â€¢ Client ko sirf Session ID milta hai (cookie me store hota hai)
    â€¢ Session ID se server data retrieve karta hai
    â€¢ req.session object me data store/access karte hai
    â€¢ Secure hai kyunki actual data server par hai

ğŸ“Œ Installation:
    npm install express-session

ğŸ“Œ Configuration:
    app.use(session({
        secret: 'your-secret-key',           // Encryption ke liye
        resave: false,                       // Har request par session save na kare
        saveUninitialized: false,            // Empty session save na kare
        cookie: { 
            maxAge: 1000 * 60 * 60 * 24,    // 1 day (milliseconds me)
            httpOnly: true,                  // JavaScript se access nahi ho sakta
            secure: false                    // HTTPS required (production me true)
        }
    }))

ğŸ“Œ Usage:
    â€¢ Set: req.session.username = 'John'
    â€¢ Get: req.session.username
    â€¢ Delete: req.session.destroy()

âš ï¸ Important:
    â€¢ Session data server par store hota hai (RAM/Database)
    â€¢ Secure hai - sensitive data ke liye best
    â€¢ Server restart hone par memory sessions delete ho jate hai
    â€¢ Production me session store use karo (Redis, MongoDB, etc.)


===================================
3. COOKIES
===================================

ğŸ“¦ Middleware Required:
    - cookie-parser

âœ… cookie-parser :
    â€¢ Browser me cookies ko read/parse karta hai
    â€¢ req.cookies object me cookie data milta hai
    â€¢ Cookie data client-side (browser) par store hota hai
    â€¢ Server response me cookies set kar sakte hai

ğŸ“Œ Installation:
    npm install cookie-parser

ğŸ“Œ Usage:
    â€¢ Parse/Read: app.use(cookieParser())
    â€¢ Set Cookie: res.cookie('name', 'value', { maxAge: 900000, httpOnly: true })
    â€¢ Get Cookie: req.cookies.name
    â€¢ Delete Cookie: res.clearCookie('name')

ğŸ“Œ Cookie Options:
    â€¢ maxAge: Cookie ka lifetime (milliseconds)
    â€¢ httpOnly: true - JavaScript se access nahi ho sakta (XSS protection)
    â€¢ secure: true - Sirf HTTPS par chalega
    â€¢ signed: true - Cookie ko encrypt karta hai
    â€¢ sameSite: 'strict' - CSRF protection

âš ï¸ Important:
    â€¢ Cookie data browser par store hota hai (browser storage limit ~4KB)
    â€¢ Less secure - sensitive data store na kare
    â€¢ User cookie delete kar sakta hai


===================================
4. DIFFERENCE: Sessions vs Cookies
===================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Feature    â”‚      Sessions        â”‚       Cookies        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Storage     â”‚ Server-side          â”‚ Client-side (browser)â”‚
â”‚ Size Limit  â”‚ No limit             â”‚ ~4KB per cookie      â”‚
â”‚ Security    â”‚ High (data on server)â”‚ Low (user can edit)  â”‚
â”‚ Expiry      â”‚ Server decides       â”‚ Set karna padta hai  â”‚
â”‚ Data Access â”‚ Backend only         â”‚ Backend + Frontend   â”‚
â”‚ Use Case    â”‚ Login, Cart, Auth    â”‚ Preferences, Theme   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


===================================
5. SECURITY BEST PRACTICES
===================================

âœ… Sessions:
    â€¢ Strong secret key use karo
    â€¢ Production me HTTPS mandatory
    â€¢ Session expiry time set karo
    â€¢ Session store use karo (Redis/MongoDB)

âœ… Cookies:
    â€¢ httpOnly: true (XSS attack se bachne ke liye)
    â€¢ secure: true (HTTPS par hi cookie send ho)
    â€¢ sameSite: 'strict' (CSRF attack se bachne ke liye)
    â€¢ Sensitive data cookies me store na kare


===================================
6. COMMON USE CASES
===================================

ğŸ”¹ Sessions:
    â€¢ User login/authentication
    â€¢ Shopping cart
    â€¢ Multi-step forms
    â€¢ User preferences (server-side)

ğŸ”¹ Cookies:
    â€¢ Remember me functionality
    â€¢ Tracking/Analytics
    â€¢ Language preference
    â€¢ Theme selection (dark/light mode)
    â€¢ JWT tokens (authentication)


===================================
7. IMPORTANT NOTES
===================================

âš ï¸ GALTIYAN (Errors in original file):
    1. Sessions ke liye cookie-parser OPTIONAL hai (mandatory nahi)
    2. Repeated content tha (lines 26-35 aur 43-47)
    3. "parse karke object me convert" - ye description incomplete tha
    4. Session data server par store hota hai, cookie me nahi

âœ… YAAD RAKHEIN:
    1. express-session apni cookies khud bana sakta hai (cookie-parser ke bina)
    2. Sessions = Server storage, Cookies = Browser storage
    3. Sensitive data ke liye Sessions use karo
    4. Production me environment variables use karo (secrets ke liye)
    5. HTTPS production me mandatory hai security ke liye
    